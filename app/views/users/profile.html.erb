<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card">
        <div class="card-header bg-info text-white">
          <h5 class="mb-0">üë§ Meu Perfil</h5>
        </div>
        <div class="card-body">
          <% if @user.errors.any? %>
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
              <h5><%= pluralize(@user.errors.count, "erro") %> impediu que o perfil fosse atualizado:</h5>
              <ul class="mb-0">
                <% @user.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
                <% end %>
              </ul>
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
          <% end %>

          <% if notice %>
            <div class="alert alert-success alert-dismissible fade show" role="alert">
              <%= notice %>
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
          <% end %>

          <form action="<%= profile_path %>" method="POST">
            <input type="hidden" name="_method" value="PATCH">
            <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
            
            <div class="mb-3">
              <label class="form-label">Nome</label>
              <input type="text" name="user[nome]" class="form-control" value="<%= @user.nome %>" required>
            </div>

            <div class="mb-3">
              <label class="form-label">E-mail</label>
              <input type="email" name="user[email]" class="form-control" value="<%= @user.email %>" required>
            </div>

            <hr class="my-4">

            <p class="text-muted small">Deixe os campos de senha em branco se n√£o quiser alter√°-la</p>

            <div class="mb-3">
              <label class="form-label">Nova Senha</label>
              <input type="password" name="user[password]" class="form-control" autocomplete="new-password">
              <small class="text-muted">M√≠nimo de 6 caracteres</small>
            </div>

            <div class="mb-3">
              <label class="form-label">Confirma√ß√£o da Nova Senha</label>
              <input type="password" name="user[password_confirmation]" class="form-control" autocomplete="new-password">
            </div>

            <div class="d-flex gap-2">
              <button type="submit" class="btn btn-primary">Salvar Altera√ß√µes</button>
              <a href="/" class="btn btn-secondary">Voltar</a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
